!function(){"use strict";var t="",e=t+"226461bd64622361ffb2.svg",n=t+"3826c074a1b94b101e38.svg";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}var u=function(){return t=function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._title=e,this._link=n,this._cardTemplate=r,this._handleCardClick=o},r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardTemplate).content.querySelector(".elements__item").cloneNode(!0)}},{key:"generateCard",value:function(){return this.cardElement=this._getTemplate(),this._setEventListeners(),this.cardElement.querySelector(".elements__image").src=this._link,this.cardElement.querySelector(".elements__image").alt="imagem do ".concat(this._title),this.cardElement.querySelector(".elements__title").textContent=this._title,this.cardElement}},{key:"_likeButton",value:function(){this.cardElement.querySelector(".elements__heart").addEventListener("click",(function(t){var r=t.target;return r.getAttribute("src")===e?r.setAttribute("src",n):r.setAttribute("src",e)}))}},{key:"_trashButton",value:function(){this.cardElement.querySelector(".elements__trash-button").addEventListener("click",(function(t){t.target.closest(".elements__item").remove()}))}},{key:"_imageButton",value:function(){var t=this;this.cardElement.querySelector(".elements__image").addEventListener("click",(function(){t._handleCardClick(t._link,t._title)}))}},{key:"_setEventListeners",value:function(){this._likeButton(),this._trashButton(),this._imageButton()}}],r&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t){if("object"!=a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}var s=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._formElement=n,this._inputs=Array.from(this._formElement.querySelectorAll(this._config.input)),this._buttonSubmit=this._formElement.querySelector(this._config.submitButton)},(e=[{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(t){t.preventDefault()})),this._setEventListeners()}},{key:"_hasInvalidInput",value:function(){return this._inputs.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonSubmit.disabled=!0,this._buttonSubmit.classList.add(this._config.buttonDisabledClass)):(this._buttonSubmit.disabled=!1,this._buttonSubmit.classList.remove(this._config.buttonDisabledClass))}},{key:"_showInputError",value:function(t,e,n){var r=n.errorClass,o=n.inputErrorClass,i="#".concat(t.id,"-error"),u=this._formElement.querySelector(i);t.classList.add(o),u.textContent=e,u.classList.add(r)}},{key:"_hideInputError",value:function(t,e){var n=e.errorClass,r=e.inputErrorClass,o="#".concat(t.id,"-error"),i=this._formElement.querySelector(o);t.classList.remove(r),i.textContent="",i.classList.remove(n)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t,{errorClass:this._config.errorClass,inputErrorClass:this._config.inputErrorClass}):this._showInputError(t,t.validationMessage,{errorClass:this._config.errorClass,inputErrorClass:this._config.inputErrorClass})}},{key:"_setEventListeners",value:function(){var t=this;this._toggleButtonState(),this._inputs.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function m(t){var e=function(t){if("object"!=p(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:e+""}var y=function(){return t=function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._container=document.querySelector(n)},(e=[{key:"addItem",value:function(t){this._container.append(t)}},{key:"addOneItem",value:function(t){this._container.prepend(t)}},{key:"renderer",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}}])&&f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t){if("object"!=b(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(e)?e:e+""}var _=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e)},e=[{key:"open",value:function(){this._popup.classList.add("popup__open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup__open"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;document.querySelector(".overlay").addEventListener("click",(function(){t.close()})),this._popup.querySelector(".popup__button-close").addEventListener("click",(function(){t.close()}))}}],e&&v(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w(r.key),r)}}function w(t){var e=function(t){if("object"!=h(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==h(e)?e:e+""}function E(t,e,n){return e=O(e),function(t,e){if(e&&("object"==h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,S()?Reflect.construct(e,n||[],O(t).constructor):e.apply(t,n))}function S(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(S=function(){return!!t})()}function k(t,e,n,r){var o=j(O(1&r?t.prototype:t),e,n);return 2&r?function(t){return o.apply(n,t)}:o}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},j.apply(null,arguments)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}var C=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=E(this,e,[n]))._submitFormCallback=t,r._popup=document.querySelector(n),r._form=r._popup.querySelector(".popup__form-title"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(e,t),n=e,r=[{key:"_getInputValues",value:function(){var t=this._popup.querySelectorAll(".popup__form-input"),e={};return t.forEach((function(t){return e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var t=this;k(e,"setEventListeners",this,3)([]),this._form.addEventListener("submit",(function(e){e.preventDefault();var n=t._getInputValues();t._submitFormCallback(n),t.close()}))}},{key:"close",value:function(){k(e,"close",this,3)([]),this._form.reset()}}],r&&g(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(_);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T(r.key),r)}}function T(t){var e=function(t){if("object"!=P(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==P(e)?e:e+""}var I=function(){return t=function t(e){var n=e.userName,r=e.userJob;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameElement=document.querySelector(n),this._jobElement=document.querySelector(r)},(e=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.job;this._nameElement.textContent=e,this._jobElement.textContent=n}}])&&q(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R(r.key),r)}}function R(t){var e=function(t){if("object"!=B(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==B(e)?e:e+""}function D(t,e,n){return e=A(e),function(t,e){if(e&&("object"==B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,V()?Reflect.construct(e,n||[],A(t).constructor):e.apply(t,n))}function V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(V=function(){return!!t})()}function z(){return z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},z.apply(null,arguments)}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}function N(t,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N(t,e)}var U=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=D(this,e,[t]))._imageElement=n._popup.querySelector(".popup__image-zoom"),n._captionElement=n._popup.querySelector(".popup__image-text"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}(e,t),n=e,r=[{key:"open",value:function(t,n){var r,o,i;(r=e,o=this,i=z(A(1&3?r.prototype:r),"open",o),function(t){return i.apply(o,t)})([]),this._imageElement.src=t,this._imageElement.alt=n,this._captionElement.textContent=n}}],r&&x(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(_),F=document.querySelector(".popup");F.addEventListener("click",(function(t){t.target.classList.contains("overlay")&&F.classList.remove("popup__open")}));var J=document.querySelector(".profile__edit-button"),M=document.querySelector(".popup-add");M.addEventListener("click",(function(t){t.target.classList.contains("overlay")&&M.classList.remove("popup__open")}));var Y=document.querySelector(".profile__add-button"),G=document.querySelector(".popup-image");G.addEventListener("click",(function(t){t.target.classList.contains("overlay")&&G.classList.remove("popup__open")}));var H=new U(".popup-image"),K=function(t,e){H.open(t,e)};H.setEventListeners(),[{name:"Vale de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_yosemite.jpg"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_lake-louise.jpg"},{name:"Montanhas Carecas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_latemar.jpg"},{name:"Parque Nacional da Vanoise ",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_lago.jpg"}].forEach((function(t){var e=new u(t.name,t.link,"#cards",K).generateCard(),n=new y({items:[e],renderer:function(t){n.addItem(t)}},".elements");n.renderer()}));var Q=new I({userName:".profile__title",userJob:".profile__explorar"}),W=new C((function(t){var e=t.name,n=t.about;Q.setUserInfo({name:e,job:n})}),".popup-edit-profile");W.setEventListeners(),J.addEventListener("click",(function(){W.open()})),new C((function(t){var e=t.title,n=t.link,r=new u(e,n,"#cards",K).generateCard(),o=new y({items:[r],renderer:function(t){o.addOneItem(t)}},".elements");o.renderer()}),".popup-add").setEventListeners(),Y.addEventListener("click",(function(){M.classList.add("popup__open")})),document.onkeydown=function(t){"Escape"===t.key&&(F.classList.remove("popup__open"),M.classList.remove("popup__open"),G.classList.remove("popup__open"))};var X=document.querySelector(".popup__form-title"),Z=document.querySelector(".popup__add-card-form"),$={form:".popup__form-title",input:".popup__form-input",submitButton:".button",buttonDisabledClass:"button__disabled",errorClass:"popup__span-error",inputErrorClass:"popup__form-input-invalid"},tt=new s($,X),et=new s($,Z);tt.enableValidation(),et.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ckJELEdBQWlCQyxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvQ2FyZHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL3BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImltcG9ydCBibGFja0hlYXJ0IGZyb20gXCIuLi9pbWFnZXMvYmxhY2toZWFydC5zdmdcIjtcclxuaW1wb3J0IGhlYXJ0IGZyb20gXCIuLi9pbWFnZXMvaGVhcnQuc3ZnXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3Rvcih0aXRsZSwgbGluaywgY2FyZFRlbXBsYXRlLCBoYW5kbGVDYXJkQ2xpY2spIHtcclxuICAgIHRoaXMuX3RpdGxlID0gdGl0bGU7XHJcbiAgICB0aGlzLl9saW5rID0gbGluaztcclxuICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGNhcmRUZW1wbGF0ZTtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFRlbXBsYXRlKS5jb250ZW50O1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGVcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2l0ZW1cIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLmNhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZVwiKS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5lbGVtZW50c19faW1hZ2VcIlxyXG4gICAgKS5hbHQgPSBgaW1hZ2VtIGRvICR7dGhpcy5fdGl0bGV9YDtcclxuICAgIHRoaXMuY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fdGl0bGVcIikudGV4dENvbnRlbnQgPVxyXG4gICAgICB0aGlzLl90aXRsZTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5jYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9saWtlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19faGVhcnRcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxpa2VCdXR0b24gPSBlLnRhcmdldDtcclxuICAgICAgICBpZiAobGlrZUJ1dHRvbi5nZXRBdHRyaWJ1dGUoXCJzcmNcIikgPT09IGJsYWNrSGVhcnQpIHtcclxuICAgICAgICAgIHJldHVybiBsaWtlQnV0dG9uLnNldEF0dHJpYnV0ZShcInNyY1wiLCBoZWFydCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbGlrZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgYmxhY2tIZWFydCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3RyYXNoQnV0dG9uKCkge1xyXG4gICAgdGhpcy5jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fdHJhc2gtYnV0dG9uXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBjYXJkID0gZS50YXJnZXQuY2xvc2VzdChcIi5lbGVtZW50c19faXRlbVwiKTtcclxuXHJcbiAgICAgICAgY2FyZC5yZW1vdmUoKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBfaW1hZ2VCdXR0b24oKSB7XHJcbiAgICB0aGlzLmNhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbGluaywgdGhpcy5fdGl0bGUpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24oKTtcclxuICAgIHRoaXMuX3RyYXNoQnV0dG9uKCk7XHJcbiAgICB0aGlzLl9pbWFnZUJ1dHRvbigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuaW5wdXQpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fYnV0dG9uU3VibWl0ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0cy5zb21lKChpbnB1dCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uU3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5fYnV0dG9uU3VibWl0LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmJ1dHRvbkRpc2FibGVkQ2xhc3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uU3VibWl0LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuX2J1dHRvblN1Ym1pdC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5idXR0b25EaXNhYmxlZENsYXNzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dCwgZXJyb3JNZXNzYWdlLCB7IGVycm9yQ2xhc3MsIGlucHV0RXJyb3JDbGFzcyB9KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnRJZCA9IGAjJHtpbnB1dC5pZH0tZXJyb3JgO1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihlcnJvckVsZW1lbnRJZCk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChlcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dCwgeyBlcnJvckNsYXNzLCBpbnB1dEVycm9yQ2xhc3MgfSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50SWQgPSBgIyR7aW5wdXQuaWR9LWVycm9yYDtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoZXJyb3JFbGVtZW50SWQpO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xyXG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dCwgaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UsIHtcclxuICAgICAgICBlcnJvckNsYXNzOiB0aGlzLl9jb25maWcuZXJyb3JDbGFzcyxcclxuICAgICAgICBpbnB1dEVycm9yQ2xhc3M6IHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQsIHtcclxuICAgICAgICBlcnJvckNsYXNzOiB0aGlzLl9jb25maWcuZXJyb3JDbGFzcyxcclxuICAgICAgICBpbnB1dEVycm9yQ2xhc3M6IHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShjYXJkKSB7XHJcbiAgICAvLyBFc3NhIGZ1bsOnw6NvIGFkaWNpb25hIHVtIGNhcnTDo29cclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoY2FyZCk7XHJcbiAgfVxyXG5cclxuICBhZGRPbmVJdGVtKGNhcmQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmQpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyZXIoKSB7XHJcbiAgICAvLyBFc3NhIGZ1bsOnw6NvIHJlbmRlcml6YSB1bSBjYXJ0w6NvXHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIC8vIEVzc2UgbWV0b2RvIGZvckVhY2ggZXN0w6EgcGVyY29ycmVuZG8gYSBsaXN0YSBkZSBjYXJ0w7Vlc1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9fb3BlblwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19vcGVuXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGUpIHtcclxuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3ZlcmxheVwiKTtcclxuICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvbi1jbG9zZVwiKTtcclxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vcG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3Ioc3VibWl0Rm9ybUNhbGxiYWNrLCBwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3N1Ym1pdEZvcm1DYWxsYmFjayA9IHN1Ym1pdEZvcm1DYWxsYmFjaztcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtLXRpdGxlXCIpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRzID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fZm9ybS1pbnB1dFwiKTtcclxuXHJcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcclxuXHJcbiAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+ICh2YWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSkpO1xyXG5cclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRGb3JtQ2FsbGJhY2sodmFsdWVzKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWUsIHVzZXJKb2IgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lKTtcclxuICAgIHRoaXMuX2pvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJKb2IpO1xyXG4gIH1cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiB9KSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50ID0gam9iO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vcG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2Utem9vbVwiKTtcclxuICAgIHRoaXMuX2NhcHRpb25FbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2UtdGV4dFwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4oaW1hZ2VTcmMsIGltYWdlVGV4dCkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LnNyYyA9IGltYWdlU3JjO1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LmFsdCA9IGltYWdlVGV4dDtcclxuICAgIHRoaXMuX2NhcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gaW1hZ2VUZXh0O1xyXG4gIH1cclxufVxyXG4iLCIvLyBJbXBvcnRhw6fDo28gZGUgbcOzZHVsb3MgKGFzc3VtaW5kbyBxdWUgZXNzZXMgbcOzZHVsb3MgZXhwb3J0ZW0gY2xhc3NlcylcclxuaW1wb3J0IFwiLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4vY29tcG9uZW50cy9DYXJkcy5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdoaXRGb3JtIGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2VcIjtcclxuXHJcbi8vIFNlbGVjaW9uYSBvIHBvcHVwIGUgYWRpY2lvbmEgdW0gZXZlbnRvIHBhcmEgZmVjaMOhLWxvIGFvIGNsaWNhciBuYSDDoXJlYSBkZSBzb2JyZXBvc2nDp8Ojb1xyXG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBcIik7XHJcbnBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm92ZXJsYXlcIikpIHtcclxuICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9fb3BlblwiKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8gU2VsZWNpb25hIG8gYm90w6NvIGRlIGVkaXRhciBwZXJmaWxcclxuY29uc3QgZWR0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuXHJcbi8vIFNlbGVjaW9uYSBvIHBvcHVwIGRlIGFkaWNpb25hciBjYXJ0w6NvIGUgYWRpY2lvbmEgdW0gZXZlbnRvIHBhcmEgZmVjaMOhLWxvIGFvIGNsaWNhciBuYSDDoXJlYSBkZSBzb2JyZXBvc2nDp8Ojb1xyXG5jb25zdCBwb3B1cEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtYWRkXCIpO1xyXG5wb3B1cEFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJvdmVybGF5XCIpKSB7XHJcbiAgICBwb3B1cEFkZC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX29wZW5cIik7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vIFNlbGVjaW9uYSBvIGJvdMOjbyBkZSBhZGljaW9uYXIgY2FydMOjb1xyXG5jb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcblxyXG4vLyBTZWxlY2lvbmEgbyBwb3B1cCBkZSBpbWFnZW0gZSBhZGljaW9uYSB1bSBldmVudG8gcGFyYSBmZWNow6EtbG8gYW8gY2xpY2FyIG5hIMOhcmVhIGRlIHNvYnJlcG9zacOnw6NvXHJcbmNvbnN0IHBvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWltYWdlXCIpO1xyXG5wb3B1cEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm92ZXJsYXlcIikpIHtcclxuICAgIHBvcHVwSW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19vcGVuXCIpO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyBBcnJheSBpbmljaWFsIGRlIGNhcnTDtWVzIGNvbSBub21lIGUgbGluayBkZSBpbWFnZW1cclxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFsZSBkZSBZb3NlbWl0ZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX3lvc2VtaXRlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJNb250YW5oYXMgQ2FyZWNhc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vd2ViLWNvZGUvbW92ZWRfbGF0ZW1hci5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiUGFycXVlIE5hY2lvbmFsIGRhIFZhbm9pc2UgXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vd2ViLWNvZGUvbW92ZWRfdmFub2lzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS93ZWItY29kZS9tb3ZlZF9sYWdvLmpwZ1wiLFxyXG4gIH0sXHJcbl07XHJcblxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cC1pbWFnZVwiKTtcclxuY29uc3QgaGFuZGxlQ2FyZENsaWNrID0gKGxpbmssIHRpdGxlKSA9PiB7XHJcbiAgcG9wdXBXaXRoSW1hZ2Uub3BlbihsaW5rLCB0aXRsZSk7XHJcbn07XHJcblxyXG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gQ3JpYSBlIHJlbmRlcml6YSBvcyBjYXJ0w7VlcyBpbmljaWFpc1xyXG5pbml0aWFsQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoXHJcbiAgICBjYXJkLm5hbWUsXHJcbiAgICBjYXJkLmxpbmssXHJcbiAgICBcIiNjYXJkc1wiLFxyXG4gICAgaGFuZGxlQ2FyZENsaWNrXHJcbiAgKS5nZW5lcmF0ZUNhcmQoKTtcclxuICBjb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAgICB7XHJcbiAgICAgIGl0ZW1zOiBbY2FyZEVsZW1lbnRdLFxyXG4gICAgICByZW5kZXJlcjogKGNhcmRQYXJhbXMpID0+IHtcclxuICAgICAgICBzZWN0aW9uLmFkZEl0ZW0oY2FyZFBhcmFtcyk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgXCIuZWxlbWVudHNcIlxyXG4gICk7XHJcbiAgc2VjdGlvbi5yZW5kZXJlcigpO1xyXG59KTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICB1c2VyTmFtZTogXCIucHJvZmlsZV9fdGl0bGVcIixcclxuICB1c2VySm9iOiBcIi5wcm9maWxlX19leHBsb3JhclwiLFxyXG59KTtcclxuY29uc3QgaGFuZGxlU3VibWl0UHJvZmlsZUZvcm0gPSAoeyBuYW1lLCBhYm91dCB9KSA9PiB7XHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8oeyBuYW1lLCBqb2I6IGFib3V0IH0pO1xyXG59O1xyXG5cclxuLy8gQ3JpYSBlIHJlbmRlcml6YSBvIHBvcHVwIGRlIGVkacOnw6NvIGRlIHBlcmZpbFxyXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2hpdEZvcm0oXHJcbiAgaGFuZGxlU3VibWl0UHJvZmlsZUZvcm0sXHJcbiAgXCIucG9wdXAtZWRpdC1wcm9maWxlXCJcclxuKTtcclxucG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gRXZlbnRvIHBhcmEgYWJyaXIgbyBwb3B1cCBkZSBlZGnDp8OjbyBkZSBwZXJmaWwgZSBwcmVlbmNoZXIgb3MgY2FtcG9zIGNvbSBvcyB2YWxvcmVzIGF0dWFpc1xyXG5lZHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cEVkaXRQcm9maWxlLm9wZW4oKTtcclxufSk7XHJcblxyXG5jb25zdCBoYW5kbGVBZGRDYXJkID0gKHsgdGl0bGUsIGxpbmsgfSkgPT4ge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoXHJcbiAgICB0aXRsZSxcclxuICAgIGxpbmssXHJcbiAgICBcIiNjYXJkc1wiLFxyXG4gICAgaGFuZGxlQ2FyZENsaWNrXHJcbiAgKS5nZW5lcmF0ZUNhcmQoKTtcclxuICBjb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAgICB7XHJcbiAgICAgIGl0ZW1zOiBbY2FyZEVsZW1lbnRdLFxyXG4gICAgICByZW5kZXJlcjogKGNhcmQpID0+IHtcclxuICAgICAgICBzZWN0aW9uLmFkZE9uZUl0ZW0oY2FyZCk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgXCIuZWxlbWVudHNcIlxyXG4gICk7XHJcbiAgc2VjdGlvbi5yZW5kZXJlcigpO1xyXG59O1xyXG5cclxuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oaGFuZGxlQWRkQ2FyZCwgXCIucG9wdXAtYWRkXCIpO1xyXG5cclxucG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBFdmVudG8gcGFyYSBhYnJpciBvIHBvcHVwIGRlIGFkaWNpb25hciBjYXJ0w6NvXHJcbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwQWRkLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9fb3BlblwiKTtcclxufSk7XHJcblxyXG4vLyBFdmVudG8gcGFyYSBmZWNoYXIgcG9wdXBzIGFvIHByZXNzaW9uYXIgYSB0ZWNsYSBFc2NhcGVcclxuZG9jdW1lbnQub25rZXlkb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19vcGVuXCIpO1xyXG4gICAgcG9wdXBBZGQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19vcGVuXCIpO1xyXG4gICAgcG9wdXBJbWFnZS5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX29wZW5cIik7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gU2VsZWNpb25hIG9zIGZvcm11bMOhcmlvcyBlIGNvbmZpZ3VyYcOnw7VlcyBkZSB2YWxpZGHDp8Ojb1xyXG5jb25zdCBmb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm0tdGl0bGVcIik7XHJcbmNvbnN0IGZvcm1FbGVtZW50QWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYWRkLWNhcmQtZm9ybVwiKTtcclxuY29uc3QgY29uZmlnID0ge1xyXG4gIGZvcm06IFwiLnBvcHVwX19mb3JtLXRpdGxlXCIsXHJcbiAgaW5wdXQ6IFwiLnBvcHVwX19mb3JtLWlucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uOiBcIi5idXR0b25cIixcclxuICBidXR0b25EaXNhYmxlZENsYXNzOiBcImJ1dHRvbl9fZGlzYWJsZWRcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19zcGFuLWVycm9yXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19mb3JtLWlucHV0LWludmFsaWRcIixcclxufTtcclxuXHJcbi8vIENyaWEgZSBoYWJpbGl0YSBvcyB2YWxpZGFkb3JlcyBkZSBmb3JtdWzDoXJpb1xyXG5jb25zdCBmb3JtVmFsaWRhdG9yUHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpO1xyXG5jb25zdCBmb3JtVmFsaWRhdG9yQWRkID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudEFkZCk7XHJcbmZvcm1WYWxpZGF0b3JQcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuZm9ybVZhbGlkYXRvckFkZC5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiQ2FyZCIsInRpdGxlIiwibGluayIsImNhcmRUZW1wbGF0ZSIsImhhbmRsZUNhcmRDbGljayIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfdGl0bGUiLCJfbGluayIsIl9jYXJkVGVtcGxhdGUiLCJfaGFuZGxlQ2FyZENsaWNrIiwia2V5IiwidmFsdWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZEVsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJjb25jYXQiLCJ0ZXh0Q29udGVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwibGlrZUJ1dHRvbiIsInRhcmdldCIsImdldEF0dHJpYnV0ZSIsImJsYWNrSGVhcnQiLCJzZXRBdHRyaWJ1dGUiLCJoZWFydCIsImNsb3Nlc3QiLCJyZW1vdmUiLCJfdGhpcyIsIl9saWtlQnV0dG9uIiwiX3RyYXNoQnV0dG9uIiwiX2ltYWdlQnV0dG9uIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2NvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dHMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXQiLCJfYnV0dG9uU3VibWl0Iiwic3VibWl0QnV0dG9uIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsImNsYXNzTGlzdCIsImFkZCIsImJ1dHRvbkRpc2FibGVkQ2xhc3MiLCJlcnJvck1lc3NhZ2UiLCJfcmVmIiwiZXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yRWxlbWVudElkIiwiaWQiLCJlcnJvckVsZW1lbnQiLCJfcmVmMiIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImNhcmQiLCJhcHBlbmQiLCJwcmVwZW5kIiwiaXRlbSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZSIsIlBvcHVwV2l0aEZvcm0iLCJfUG9wdXAiLCJzdWJtaXRGb3JtQ2FsbGJhY2siLCJfY2FsbFN1cGVyIiwiX3N1Ym1pdEZvcm1DYWxsYmFjayIsIl9mb3JtIiwiX2luaGVyaXRzIiwiaW5wdXRzIiwidmFsdWVzIiwibmFtZSIsIl90aGlzMiIsIl9zdXBlclByb3BHZXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwidXNlck5hbWUiLCJ1c2VySm9iIiwiX25hbWVFbGVtZW50IiwiX2pvYkVsZW1lbnQiLCJqb2IiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZUVsZW1lbnQiLCJfY2FwdGlvbkVsZW1lbnQiLCJpbWFnZVNyYyIsImltYWdlVGV4dCIsInBvcHVwIiwiZXZlbnQiLCJjb250YWlucyIsImVkdEJ1dHRvbiIsInBvcHVwQWRkIiwiYWRkQnV0dG9uIiwicG9wdXBJbWFnZSIsInBvcHVwV2l0aEltYWdlIiwib3BlbiIsInNldEV2ZW50TGlzdGVuZXJzIiwiZ2VuZXJhdGVDYXJkIiwic2VjdGlvbiIsImNhcmRQYXJhbXMiLCJhZGRJdGVtIiwidXNlckluZm8iLCJwb3B1cEVkaXRQcm9maWxlIiwiUG9wdXBXaGl0Rm9ybSIsImFib3V0Iiwic2V0VXNlckluZm8iLCJhZGRPbmVJdGVtIiwib25rZXlkb3duIiwiZm9ybUVsZW1lbnRBZGQiLCJmb3JtIiwiZm9ybVZhbGlkYXRvclByb2ZpbGUiLCJmb3JtVmFsaWRhdG9yQWRkIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=